name: dockercompose14606593547423170323
services:
  configapi:
    build:
      context: C:\Users\christianbaker\source\repos\udot-atspm\AtspmTemp
      dockerfile: ./ConfigApi/Dockerfile
    depends_on:
      postgres:
        condition: service_started
        required: true
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      ASPNETCORE_Kestrel__Certificates__Default__Password: password
      ASPNETCORE_Kestrel__Certificates__Default__Path: /root/.aspnet/https/aspnetapp.pfx
      ASPNETCORE_URLS: https://+:44313
      ConnectionStrings__AggregationContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Aggregation-V1;Pooling=true;
      ConnectionStrings__AggregationContext__Provider: PostgreSQL
      ConnectionStrings__ConfigContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Config-V2;Pooling=true;
      ConnectionStrings__ConfigContext__Provider: PostgreSQL
      ConnectionStrings__EventLogContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-EventLogs-V1;Pooling=true;
      ConnectionStrings__EventLogContext__Provider: PostgreSQL
      ConnectionStrings__IdentityContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Identity;Pooling=true;
      ConnectionStrings__IdentityContext__Provider: PostgreSQL
      Jwt__ExpireDays: "1"
      Jwt__Issuer: AvenueConsultants
      Jwt__Key: ATSPMProductionIdentityOpenSource2024
    networks:
      default: null
    ports:
      - mode: ingress
        target: 44313
        published: "44313"
        protocol: tcp
    user: root
    volumes:
      - type: volume
        source: aspnet_https
        target: /root/.aspnet/https
        read_only: true
        volume: {}
  dataapi:
    build:
      context: C:\Users\christianbaker\source\repos\udot-atspm\AtspmTemp
      dockerfile: ./DataApi/Dockerfile
    depends_on:
      postgres:
        condition: service_started
        required: true
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      ASPNETCORE_Kestrel__Certificates__Default__Password: password
      ASPNETCORE_Kestrel__Certificates__Default__Path: /root/.aspnet/https/aspnetapp.pfx
      ConnectionStrings__AggregationContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Aggregation-V1;Pooling=true;
      ConnectionStrings__AggregationContext__Provider: PostgreSQL
      ConnectionStrings__ConfigContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Config-V2;Pooling=true;
      ConnectionStrings__ConfigContext__Provider: PostgreSQL
      ConnectionStrings__EventLogContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-EventLogs-V1;Pooling=true;
      ConnectionStrings__EventLogContext__Provider: PostgreSQL
      ConnectionStrings__IdentityContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Identity;Pooling=true;
      ConnectionStrings__IdentityContext__Provider: PostgreSQL
      Jwt__ExpireDays: "1"
      Jwt__Issuer: AvenueConsultants
      Jwt__Key: ATSPMProductionIdentityOpenSource2024
    networks:
      default: null
    ports:
      - mode: ingress
        target: 80
        published: "8082"
        protocol: tcp
  identityapi:
    build:
      context: C:\Users\christianbaker\source\repos\udot-atspm\AtspmTemp
      dockerfile: ./Identity/Dockerfile
    depends_on:
      postgres:
        condition: service_started
        required: true
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      ASPNETCORE_Kestrel__Certificates__Default__Password: password
      ASPNETCORE_Kestrel__Certificates__Default__Path: /root/.aspnet/https/aspnetapp.pfx
      ConnectionStrings__AggregationContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Aggregation-V1;Pooling=true;
      ConnectionStrings__AggregationContext__Provider: PostgreSQL
      ConnectionStrings__ConfigContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Config-V2;Pooling=true;
      ConnectionStrings__ConfigContext__Provider: PostgreSQL
      ConnectionStrings__EventLogContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-EventLogs-V1;Pooling=true;
      ConnectionStrings__EventLogContext__Provider: PostgreSQL
      ConnectionStrings__IdentityContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Identity;Pooling=true;
      ConnectionStrings__IdentityContext__Provider: PostgreSQL
      Jwt__ExpireDays: "1"
      Jwt__Issuer: AvenueConsultants
      Jwt__Key: ATSPMProductionIdentityOpenSource2024
    networks:
      default: null
    ports:
      - mode: ingress
        target: 80
        published: "8086"
        protocol: tcp
  postgres:
    environment:
      POSTGRES_DB: ATSPM-Config-V2
      POSTGRES_PASSWORD: Avenue.2006
      POSTGRES_USER: admin
    image: postgres:13
    networks:
      default: null
    ports:
      - mode: ingress
        target: 5432
        published: "5432"
        protocol: tcp
    volumes:
      - type: volume
        source: postgres_data
        target: /var/lib/postgresql/data
        volume: {}
      - type: bind
        source: C:\Users\christianbaker\source\repos\udot-atspm\AtspmTemp\PostgreSQLDatabaseProvider\Migrations\Aggregation\Migrations.sql
        target: /docker-entrypoint-initdb.d/1-aggregation.sql
        bind:
          create_host_path: true
      - type: bind
        source: C:\Users\christianbaker\source\repos\udot-atspm\AtspmTemp\PostgreSQLDatabaseProvider\Migrations\Config\Migrations.sql
        target: /docker-entrypoint-initdb.d/2-config.sql
        bind:
          create_host_path: true
      - type: bind
        source: C:\Users\christianbaker\source\repos\udot-atspm\AtspmTemp\PostgreSQLDatabaseProvider\Migrations\EventLog\Migrations.sql
        target: /docker-entrypoint-initdb.d/3-eventlog.sql
        bind:
          create_host_path: true
      - type: bind
        source: C:\Users\christianbaker\source\repos\udot-atspm\AtspmTemp\PostgreSQLDatabaseProvider\Migrations\Identity\Migrations.sql
        target: /docker-entrypoint-initdb.d/4-identity.sql
        bind:
          create_host_path: true
  reportapi:
    build:
      context: C:\Users\christianbaker\source\repos\udot-atspm\AtspmTemp
      dockerfile: ./ReportApi/Dockerfile
    depends_on:
      postgres:
        condition: service_started
        required: true
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      ASPNETCORE_Kestrel__Certificates__Default__Password: password
      ASPNETCORE_Kestrel__Certificates__Default__Path: /root/.aspnet/https/aspnetapp.pfx
      ConnectionStrings__AggregationContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Aggregation-V1;Pooling=true;
      ConnectionStrings__AggregationContext__Provider: PostgreSQL
      ConnectionStrings__ConfigContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Config-V2;Pooling=true;
      ConnectionStrings__ConfigContext__Provider: PostgreSQL
      ConnectionStrings__EventLogContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-EventLogs-V1;Pooling=true;
      ConnectionStrings__EventLogContext__Provider: PostgreSQL
      ConnectionStrings__IdentityContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Identity;Pooling=true;
      ConnectionStrings__IdentityContext__Provider: PostgreSQL
      Jwt__ExpireDays: "1"
      Jwt__Issuer: AvenueConsultants
      Jwt__Key: ATSPMProductionIdentityOpenSource2024
    networks:
      default: null
    ports:
      - mode: ingress
        target: 80
        published: "8085"
        protocol: tcp
  signalcontroller:
    build:
      context: C:\Users\christianbaker\source\repos\udot-atspm\AtspmTemp
      dockerfile: ./SignalControllerLogger/Dockerfile
    depends_on:
      postgres:
        condition: service_started
        required: true
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      ASPNETCORE_Kestrel__Certificates__Default__Password: password
      ASPNETCORE_Kestrel__Certificates__Default__Path: /root/.aspnet/https/aspnetapp.pfx
      ConnectionStrings__AggregationContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Aggregation-V1;Pooling=true;
      ConnectionStrings__AggregationContext__Provider: PostgreSQL
      ConnectionStrings__ConfigContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Config-V2;Pooling=true;
      ConnectionStrings__ConfigContext__Provider: PostgreSQL
      ConnectionStrings__EventLogContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-EventLogs-V1;Pooling=true;
      ConnectionStrings__EventLogContext__Provider: PostgreSQL
      ConnectionStrings__IdentityContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Identity;Pooling=true;
      ConnectionStrings__IdentityContext__Provider: PostgreSQL
      Jwt__ExpireDays: "1"
      Jwt__Issuer: AvenueConsultants
      Jwt__Key: ATSPMProductionIdentityOpenSource2024
    networks:
      default: null
    ports:
      - mode: ingress
        target: 80
        published: "8083"
        protocol: tcp
  watchdog:
    build:
      context: C:\Users\christianbaker\source\repos\udot-atspm\AtspmTemp
      dockerfile: ./WatchDog/Dockerfile
    depends_on:
      postgres:
        condition: service_started
        required: true
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      ASPNETCORE_Kestrel__Certificates__Default__Password: password
      ASPNETCORE_Kestrel__Certificates__Default__Path: /root/.aspnet/https/aspnetapp.pfx
      ConnectionStrings__AggregationContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Aggregation-V1;Pooling=true;
      ConnectionStrings__AggregationContext__Provider: PostgreSQL
      ConnectionStrings__ConfigContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Config-V2;Pooling=true;
      ConnectionStrings__ConfigContext__Provider: PostgreSQL
      ConnectionStrings__EventLogContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-EventLogs-V1;Pooling=true;
      ConnectionStrings__EventLogContext__Provider: PostgreSQL
      ConnectionStrings__IdentityContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Identity;Pooling=true;
      ConnectionStrings__IdentityContext__Provider: PostgreSQL
      Jwt__ExpireDays: "1"
      Jwt__Issuer: AvenueConsultants
      Jwt__Key: ATSPMProductionIdentityOpenSource2024
    networks:
      default: null
    ports:
      - mode: ingress
        target: 80
        published: "8084"
        protocol: tcp
  webui:
    build:
      context: C:\Users\christianbaker\source\repos\udot-atspm\AtspmTemp\WebUI
      dockerfile: Dockerfile
    depends_on:
      postgres:
        condition: service_started
        required: true
    networks:
      default: null
    ports:
      - mode: ingress
        target: 3000
        published: "3000"
        protocol: tcp
networks:
  default:
    name: dockercompose14606593547423170323_default
volumes:
  aspnet_https:
    name: dockercompose14606593547423170323_aspnet_https
  postgres_data:
    name: dockercompose14606593547423170323_postgres_data
x-environment:
  ASPNETCORE_ENVIRONMENT: Development
  ASPNETCORE_Kestrel__Certificates__Default__Password: password
  ASPNETCORE_Kestrel__Certificates__Default__Path: /root/.aspnet/https/aspnetapp.pfx
  ConnectionStrings__AggregationContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Aggregation-V1;Pooling=true;
  ConnectionStrings__AggregationContext__Provider: PostgreSQL
  ConnectionStrings__ConfigContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Config-V2;Pooling=true;
  ConnectionStrings__ConfigContext__Provider: PostgreSQL
  ConnectionStrings__EventLogContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-EventLogs-V1;Pooling=true;
  ConnectionStrings__EventLogContext__Provider: PostgreSQL
  ConnectionStrings__IdentityContext__ConnectionString: Host=postgres;Port=5432;Username=admin;Password=Avenue.2006;Database=ATSPM-Identity;Pooling=true;
  ConnectionStrings__IdentityContext__Provider: PostgreSQL
  Jwt__ExpireDays: "1"
  Jwt__Issuer: AvenueConsultants
  Jwt__Key: ATSPMProductionIdentityOpenSource2024