// <auto-generated> This file has been auto generated by EF Core Power Tools. </auto-generated>
#nullable disable
using ATSPM.Data.Configuration;
using ATSPM.Data.Enums;
using ATSPM.Data.Models;
using Microsoft.EntityFrameworkCore;
using System.Net;

namespace ATSPM.Data
{
    /// <summary>
    /// Atspm configuration database context
    /// </summary>
    public partial class ConfigContext : DbContext
    {
        /// <inheritdoc/>
        public ConfigContext()
        {
        }

        /// <inheritdoc/>
        public ConfigContext(DbContextOptions<ConfigContext> options): base(options) {}

        /// <summary>
        /// Approaches table
        /// </summary>
        public virtual DbSet<Approach> Approaches { get; set; }

        /// <summary>
        /// Area table
        /// </summary>
        public virtual DbSet<Area> Areas { get; set; }

        /// <summary>
        /// Controller type table
        /// </summary>
        public virtual DbSet<ControllerType> ControllerTypes { get; set; }

        /// <summary>
        /// Detection type table
        /// </summary>
        public virtual DbSet<DetectionType> DetectionTypes { get; set; }

        /// <summary>
        /// Detector comments table
        /// </summary>
        public virtual DbSet<DetectorComment> DetectorComments { get; set; }

        /// <summary>
        /// Device table
        /// </summary>
        public virtual DbSet<Device> Devices { get; set; }

        /// <summary>
        /// Device configuration table
        /// </summary>
        public virtual DbSet<DeviceConfiguration> DeviceConfiguration { get; set; }

        /// <summary>
        /// Detectors table
        /// </summary>
        public virtual DbSet<Detector> Detectors { get; set; }

        /// <summary>
        /// Direction type table
        /// </summary>
        public virtual DbSet<DirectionType> DirectionTypes { get; set; }

        /// <summary>
        /// External links table
        /// </summary>
        public virtual DbSet<ExternalLink> ExternalLinks { get; set; }

        /// <summary>
        /// Faqs table
        /// </summary>
        public virtual DbSet<Faq> Faqs { get; set; }

        /// <summary>
        /// Jurisdiction table
        /// </summary>
        public virtual DbSet<Jurisdiction> Jurisdictions { get; set; }

        /// <summary>
        /// Locations table
        /// </summary>
        public virtual DbSet<Location> Locations { get; set; }

        /// <summary>
        /// Location types table
        /// </summary>
        public virtual DbSet<LocationType> LocationTypes { get; set; }

        /// <summary>
        /// Menu table
        /// </summary>
        public virtual DbSet<MenuItem> MenuItems { get; set; }

        /// <summary>
        /// Measure comments table
        /// </summary>
        public virtual DbSet<MeasureComment> MeasureComments { get; set; }

        /// <summary>
        /// Measure options table
        /// </summary>
        public virtual DbSet<MeasureOption> MeasureOptions { get; set; }

        /// <summary>
        /// Measure type table
        /// </summary>
        public virtual DbSet<MeasureType> MeasureType { get; set; }

        /// <summary>
        /// Products table
        /// </summary>
        public virtual DbSet<Product> Products { get; set; }

        /// <summary>
        /// Regions table
        /// </summary>
        public virtual DbSet<Region> Regions { get; set; }
        
        /// <summary>
        /// Routes table
        /// </summary>
        public virtual DbSet<Route> Routes { get; set; }

        /// <summary>
        /// Route distances table
        /// </summary>
        public virtual DbSet<RouteDistance> RouteDistances { get; set; }
        
        /// <summary>
        /// Route Locations table
        /// </summary>
        public virtual DbSet<RouteLocation> RouteLocations { get; set; }

        /// <summary>
        /// Settings table
        /// </summary>
        public virtual DbSet<Settings> Settings { get; set; }

        /// <summary>
        /// User areas table
        /// </summary>
        public virtual DbSet<UserArea> UserAreas { get; set; }

        /// <summary>
        /// User jurisdictions table
        /// </summary>
        public virtual DbSet<UserArea> UserJurisdictions { get; set; }

        /// <summary>
        /// User regions table
        /// </summary>
        public virtual DbSet<UserArea> UserRegions { get; set; }

        /// <summary>
        /// Version history table
        /// </summary>
        public virtual DbSet<Location> VersionHistory { get; set; }

        public virtual DbSet<WatchDogLogEvent> WatchDogLogEvents { get; set; }

        /// <inheritdoc/>
        protected override void ConfigureConventions(ModelConfigurationBuilder configurationBuilder)
        {
            configurationBuilder.Properties<string>().AreUnicode(false);
            configurationBuilder.Properties<IPAddress>().HaveConversion<string>();
            configurationBuilder.Properties<DetectionHardwareTypes>().HaveConversion<int>();
            configurationBuilder.Properties<LocationVersionActions>().HaveConversion<int>();
            configurationBuilder.Properties<DirectionTypes>().HaveConversion<int>();
            configurationBuilder.Properties<LaneTypes>().HaveConversion<int>();
            configurationBuilder.Properties<MovementTypes>().HaveConversion<int>();
            configurationBuilder.Properties<DetectionTypes>().HaveConversion<int>();
            configurationBuilder.Properties<TransportProtocols>().HaveConversion<string>();
            configurationBuilder.Properties<DeviceTypes>().HaveConversion<string>();
            configurationBuilder.Properties<DeviceStatus>().HaveConversion<string>();

            //if (Database.IsNpgsql())
            //    configurationBuilder.Properties<DateTime>().HaveColumnType("timestamp");
            //else
            //    configurationBuilder.Properties<DateTime>().HaveColumnType("datetime");
        }

        /// <inheritdoc/>
        protected override void OnModelCreating(ModelBuilder modelBuilder)
        {
            modelBuilder.ApplyConfiguration(new SettingsConfiguration());
            modelBuilder.ApplyConfiguration(new ApproachConfiguration());
            modelBuilder.ApplyConfiguration(new AreaConfiguration());
            modelBuilder.ApplyConfiguration(new ControllerTypeConfiguration());
            modelBuilder.ApplyConfiguration(new DetectionTypeConfiguration());
            modelBuilder.ApplyConfiguration(new DetectorConfiguration());
            modelBuilder.ApplyConfiguration(new DetectorCommentConfiguration());
            modelBuilder.ApplyConfiguration(new DevicesConfiguration());
            modelBuilder.ApplyConfiguration(new DeviceConfigConfiguration());
            modelBuilder.ApplyConfiguration(new DirectionTypeConfiguration());
            modelBuilder.ApplyConfiguration(new ExternalLinkConfiguration());
            modelBuilder.ApplyConfiguration(new FaqConfiguration());
            modelBuilder.ApplyConfiguration(new LocationConfiguration());
            modelBuilder.ApplyConfiguration(new LocationTypeConfiguration());
            modelBuilder.ApplyConfiguration(new JurisdictionConfiguration());
            modelBuilder.ApplyConfiguration(new MenuItemConfiguration());
            modelBuilder.ApplyConfiguration(new MeasureCommentConfiguration());
            modelBuilder.ApplyConfiguration(new MeasureOptionsConfiguration());
            modelBuilder.ApplyConfiguration(new MeasureTypeConfiguration());
            modelBuilder.ApplyConfiguration(new ProductConfiguration());
            modelBuilder.ApplyConfiguration(new RegionConfiguration());
            modelBuilder.ApplyConfiguration(new RouteConfiguration());
            modelBuilder.ApplyConfiguration(new RouteDistanceConfiguration());
            modelBuilder.ApplyConfiguration(new RouteLocationConfiguration());
            modelBuilder.ApplyConfiguration(new UserAreaConfiguration());
            modelBuilder.ApplyConfiguration(new UserJurisdictionConfiguration());
            modelBuilder.ApplyConfiguration(new UserRegionConfiguration());
            modelBuilder.ApplyConfiguration(new VersionHistoryConfiguration());

            OnModelCreatingPartial(modelBuilder);
            //TODO: call based class when using IdentityContext
        }

        partial void OnModelCreatingPartial(ModelBuilder modelBuilder);
    }
}